{{ define "main" }}
{{ $class := replace .Page.Section "." "-" | lower }}
<section id="hero" class="{{ $class }}-event-hero bg-gray-dark mt-7 pt-4 pb-5">
    <div class="container">
        {{ if not .Site.Params.ui.breadcrumb_disable }}{{ partial "breadcrumb.html" . }}{{ end }}
        <h1 class="h1 mt-4 pt-2"> {{ .Parent.Title -}}</h1>
        {{ if .Params.description }}
        <div class="lead">
            <p>{{ .Params.description | markdownify }}</p>
        </div>
        {{ else if .Parent.Params.description_episodes }}
        <div class="lead">
            <p>{{- .Parent.Params.description_episodes | markdownify }}</p>
        </div>
        {{ else }}
        <div class="lead">
            <p>{{- .Parent.Params.description | markdownify }}</p>
        </div>
        {{ end }}
    </div>
</section>

<section class="{{ $class }}-city-registration">
    <div class='container'>
        <div class="row justify-content-center mt-5 pt-3">
            <div class="col-lg-4 col-12 mb-5 pl-0">
                <h2 class="pt-0 mb-4 pb-2"> {{- .Title -}}</h2>
                <h3 class="pt-0 mb-4 pb-2">{{ .Params.Date.Format "January 02" }}-{{ dateFormat "02" (substr .Params.enddate 0 10) }}, {{
                    .Params.Date.Format "2006" }}</h3>
                <p class="pt-0 mb-4 pb-2">{{ .Params.location }}</p>
                <button id="register-button" class="btn btn-primary">Register Now</button>
            </div>
            <div id="s1t-map" class="col-lg-4 col-12">
                <h1 class="text-center">Map Placeholder</h1>
            </div>
        </div>
</section>

<section class="{{ $class }}-details">
    <div class="row justify-content-center mb-5">
        <div class="col-lg-9 col-12 px-0 mt-5">
            {{ if .Params.calendar }}
            <script src="https://d1fto35gcfffzn.cloudfront.net/calendar/ics-multiple.min.js"
                type="text/javascript"></script>
            {{ end }}
            {{ .Content }}
        </div>
    </div>

    {{ with .Params.guests }}
    <div class="row justify-content-center mb-5">
        <div class="col-lg-9 col-12 px-0">
            <h3 class="mb-3">Guests</h3>
            {{ range . }}
            {{ with $.Site.GetPage (print "/team/" ( . | urlize )) }}
            <div class=" mb-4 pb-5">
                {{ partial "team-member.html" (dict "context" . "display" "tv") }}
            </div>
            {{ end }}
            {{ end }}
        </div>
    </div>
    {{ end }}

    {{ with .Params.speakers }}
    <div class="row justify-content-center mb-5">
        <div class="col-lg-9 col-12 px-0">
            <h3 class="mb-3">Speakers</h3>
            {{ range . }}
            {{ with $.Site.GetPage (print "/team/" ( . | urlize )) }}
            <div class="mb-4">
                {{ partial "team-member.html" (dict "context" . "display" "tv") }}
            </div>
            {{ end }}
            {{ end }}
        </div>
    </div>
    {{ end }}
</section>

<div class="row justify-content-center mb-5 text-center">
    <div class="col-lg-9 col-12 px-0">
        <p>Questions? <a href="mailto:{{ .Params.contact }}">Contact {{ .Params.contact_text | default "us"
                }}</a>
            &bullet; <a href='{{ print "/code-of-conduct" | relURL }}'>Code of Conduct</a></p>
    </div>
</div>

<div class="row justify-content-center mb-5 text-center">
    <div class="col-lg-9 col-12 px-0 d-flex">
        <div class="feedback mt-4 pt-4 w-100 text-left border-top">
            <a
                href="https://github.com/vmware-tanzu/tanzu-dev-portal/issues/new?assignees=&labels=bug&template=bug_report.md&title=Tanzu.TV Issue: {{ .Title }}"><i
                    class="fab fa-github mr-2"></i><span class="align-top">Report an issue</span></a>
        </div>
    </div>
</div>

</div>


{{ end }}